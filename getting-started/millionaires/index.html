<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Carbyne Stack Documentation"><meta name=author content="Carbyne Stack Community"><link href=https://carbynestack.io/getting-started/millionaires/ rel=canonical><link rel=icon href=../../images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.2.11+insiders-4.13.1"><title>Millionaires Problem - Carbyne Stack</title><link rel=stylesheet href=../../assets/stylesheets/main.8b1d949c.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.9647289d.min.css><script src=https://holiday-van.carbynestack.io/script.js data-site=CUNVUWEF defer></script><link rel=stylesheet href=../../assets/externals/fonts.googleapis.com/css.css><style>:root{--md-text-font:"lato";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=red> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#solving-the-millionaires-problem class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <div class=announcement-bar> We are very proud that Carbyne Stack has won 3rd place at this year's German IT Security Award. See <a href=/community/events/#german-it-security-award>here</a> for more information. </div> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Carbyne Stack" class="md-header__button md-logo" aria-label="Carbyne Stack" data-md-component=logo> <img src=../../images/logo/carbynestack.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Carbyne Stack </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Millionaires Problem </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=red aria-hidden=true type=radio name=__palette id=__palette_1> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/carbynestack/carbynestack title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> carbynestack/carbynestack </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../community/participate/ class=md-tabs__link> Community </a> </li> <li class=md-tabs__item> <a href=../../legal/privacy-policy/ class=md-tabs__link> Legal Information </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Carbyne Stack" class="md-nav__button md-logo" aria-label="Carbyne Stack" data-md-component=logo> <img src=../../images/logo/carbynestack.svg alt=logo> </a> Carbyne Stack </label> <div class=md-nav__source> <a href=https://github.com/carbynestack/carbynestack title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> carbynestack/carbynestack </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Getting Started </span> </a> <label class="md-nav__link " for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../prerequisites/ class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../platform-setup/ class=md-nav__link> <span class=md-ellipsis> Platform Setup </span> </a> </li> <li class=md-nav__item> <a href=../deployment/ class=md-nav__link> <span class=md-ellipsis> Stack Deployment </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Millionaires Problem </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Millionaires Problem </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#the-billionaires-problem class=md-nav__link> <span class=md-ellipsis> The Billionaires Problem </span> </a> <nav class=md-nav aria-label="The Billionaires Problem"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#providing-the-inputs class=md-nav__link> <span class=md-ellipsis> Providing the Inputs </span> </a> </li> <li class=md-nav__item> <a href=#invoke-the-billionaires-function class=md-nav__link> <span class=md-ellipsis> Invoke the Billionaires Function </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> <span class=md-ellipsis> Next Steps </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> <span class=md-ellipsis> Community </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Community data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Community </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../community/participate/ class=md-nav__link> <span class=md-ellipsis> Participate </span> </a> </li> <li class=md-nav__item> <a href=../../community/ecosystem/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../../community/events/ class="md-nav__link "> <span class=md-ellipsis> Events </span> </a> <label class="md-nav__link " for=__nav_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Events data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Events </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3_2 type=checkbox id=__nav_3_3_2> <div class="md-nav__link md-nav__container"> <a href=../../community/events/csc22/ class="md-nav__link "> <span class=md-ellipsis> CarbyneStackCon'22 </span> </a> </div> <nav class=md-nav aria-label="CarbyneStackCon'22" data-md-level=3> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> CarbyneStackCon'22 </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../community/media-coverage/ class=md-nav__link> <span class=md-ellipsis> Media Coverage </span> </a> </li> <li class=md-nav__item> <a href=../../community/opportunities/ class=md-nav__link> <span class=md-ellipsis> Opportunities </span> </a> </li> <li class=md-nav__item> <a href=../../community/gsoc/ class=md-nav__link> <span class=md-ellipsis> Google Summer of Code </span> </a> </li> <li class=md-nav__item> <a href=../../community/acknowledgements/ class=md-nav__link> <span class=md-ellipsis> Acknowledgements </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> <span class=md-ellipsis> Legal Information </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Legal Information" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Legal Information </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../legal/privacy-policy/ class=md-nav__link> <span class=md-ellipsis> Privacy Policy </span> </a> </li> <li class=md-nav__item> <a href=../../legal/corporate-information/ class=md-nav__link> <span class=md-ellipsis> Corporate Information </span> </a> </li> <li class=md-nav__item> <a href=../../legal/branding-guidelines/ class=md-nav__link> <span class=md-ellipsis> Branding Guidelines </span> </a> </li> <li class=md-nav__item> <a href=../../legal/export-control/ class=md-nav__link> <span class=md-ellipsis> Export Control </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#the-billionaires-problem class=md-nav__link> <span class=md-ellipsis> The Billionaires Problem </span> </a> <nav class=md-nav aria-label="The Billionaires Problem"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#providing-the-inputs class=md-nav__link> <span class=md-ellipsis> Providing the Inputs </span> </a> </li> <li class=md-nav__item> <a href=#invoke-the-billionaires-function class=md-nav__link> <span class=md-ellipsis> Invoke the Billionaires Function </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> <span class=md-ellipsis> Next Steps </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/carbynestack/carbynestack.github.io/edit/master/docs/getting-started/millionaires.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=solving-the-millionaires-problem>Solving the Millionaires Problem<a class=headerlink href=#solving-the-millionaires-problem title="Permanent link">&para;</a></h1> <p>In this tutorial, you will learn how to solve the millionaires problem using an MPC function deployed on Carbyne Stack.</p> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h2> <p>You need a deployed Carbyne Stack Virtual Cloud and the Carbyne Stack CLI. Please see the <a href=../platform-setup>Platform Setup Guide</a> and the <a href=../deployment>Deployment Guide</a> for instructions on how to get hold of these.</p> <p>In addition, this guide assumes that you have the following tools installed:</p> <ul> <li>Java 8 (newer versions will not work)</li> </ul> <h2 id=the-billionaires-problem>The Billionaires Problem<a class=headerlink href=#the-billionaires-problem title="Permanent link">&para;</a></h2> <p>We use a variation of Andrew Yao's <a href=https://en.wikipedia.org/wiki/Yao%27s_Millionaires%27_problem>Millionaires' Problem</a> that is the secure multi-party computation problem of deciding which of two millionaires, Alice and Bob, is richer without revealing their actual wealth. Since the conception of the problem, the world has moved on and we better speak today not of two millionaires but of two (completely fictional) billionaires called Jeff and Elon.</p> <p>In the following, we describe how to solve this problem using Carbyne Stack. To see how things work, let's put ourselves in Elon's shoes.</p> <h3 id=providing-the-inputs>Providing the Inputs<a class=headerlink href=#providing-the-inputs title="Permanent link">&para;</a></h3> <p>First, we upload the inputs into the Carbyne Stack <a href=https://github.com/carbynestack/amphora>Amphora Secret Store</a>. The inputs are the billionaires' net worth in billions. Note that this obviously has to be done in a private way by Jeff and Elon in a real-world setting.</p> <div class=highlight><pre><span></span><code><span class=c1># Create a secret representing Jeff&#39;s net worth (note that we work with </span>
<span class=c1># billion USD here)</span>
<span class=nb>export</span> <span class=nv>JEFFS_NET_WORTH_ID</span><span class=o>=</span><span class=k>$(</span>java -jar cs.jar amphora create-secret <span class=m>177</span> -t <span class=nv>billionaire</span><span class=o>=</span>Jeff<span class=k>)</span>

<span class=c1># And another one for Elon</span>
<span class=nb>export</span> <span class=nv>ELONS_NET_WORTH_ID</span><span class=o>=</span><span class=k>$(</span>java -jar cs.jar amphora create-secret <span class=m>151</span> -t <span class=nv>billionaire</span><span class=o>=</span>Elon<span class=k>)</span>
</code></pre></div> <p>We can check the secrets have been created using:</p> <div class=highlight><pre><span></span><code>java -jar cs.jar amphora get-secrets
</code></pre></div> <p>The output should resemble the following:</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The output you see will differ wrt. identifiers and the <code>creation-date</code> tag.</p> </div> <div class=highlight><pre><span></span><code>ab160f93-3b7e-468f-b687-f9c46fb535f3
    billionaire -&gt; Jeff
    creation-date -&gt; <span class=m>1630660117946</span>
ef3e867f-9233-46fb-9cde-7a09c99bc32f
    billionaire -&gt; Elon
    creation-date -&gt; <span class=m>1630660125951</span>
</code></pre></div> <h3 id=invoke-the-billionaires-function>Invoke the Billionaires Function<a class=headerlink href=#invoke-the-billionaires-function title="Permanent link">&para;</a></h3> <p>Elon is eager to see whether he ranks first in the list of the richest people in the world. To check that using the Carbyne Stack platform, a well-known global media company which regularly publishes a list of the richest people in the world came up with the following <a href=https://github.com/data61/MP-SPDZ>MP-SPDZ</a> program that does the job:</p> <div class=highlight><pre><span></span><code>cat <span class=s>&lt;&lt; &#39;EOF&#39; &gt; billionaires.mpc</span>
<span class=s># Prologue to read in the inputs</span>
<span class=s>port=regint(10000)</span>
<span class=s>listen(port)</span>
<span class=s>socket_id = regint()</span>
<span class=s>acceptclientconnection(socket_id, port)</span>
<span class=s>v = sint.read_from_socket(socket_id, 2)</span>

<span class=s># The logic</span>
<span class=s>first_billionaires_net_worth = v[0]</span>
<span class=s>second_billionaires_net_worth= v[1]</span>
<span class=s>result = first_billionaires_net_worth &lt; second_billionaires_net_worth</span>

<span class=s># Epilogue to return the outputs </span>
<span class=s>resp = Array(1, sint)</span>
<span class=s>resp[0] = result</span>
<span class=s>sint.write_to_socket(socket_id, resp)</span>
<span class=s>EOF</span>
</code></pre></div> <p>The program expects two inputs and does a simple comparison between them. The result written as a secret to Amphora at the end of the program is either <code>1</code> in case the first input is less than the second or <code>0</code> otherwise.</p> <p>Elon invokes the program using the <a href=https://github.com/carbynestack/ephemeral>Ephemeral Serverless Compute Service</a> as follows:</p> <div class=highlight><pre><span></span><code><span class=nb>export</span> <span class=nv>RESULT_ID</span><span class=o>=</span><span class=k>$(</span>cat billionaires.mpc <span class=p>|</span> java -jar cs.jar ephemeral execute <span class=se>\</span>
  -i <span class=nv>$JEFFS_NET_WORTH_ID</span> <span class=se>\</span>
  -i <span class=nv>$ELONS_NET_WORTH_ID</span> <span class=se>\</span>
  ephemeral-generic.default <span class=se>\</span>
  <span class=p>|</span> tail -n +2 <span class=se>\</span>
  <span class=p>|</span> sed <span class=s1>&#39;s/[][]//g&#39;</span><span class=k>)</span>
</code></pre></div> <p>The CLI spits out a list of identifiers of Amphora Secrets generated by the program. The snippet above extracts the single identifier emitted in this example and stores it in the <code>RESULT_ID</code> shell variable.</p> <p>Using this identifier Elon can inspect the result of the execution using:</p> <div class=highlight><pre><span></span><code>java -jar cs.jar amphora get-secret <span class=nv>$RESULT_ID</span>
</code></pre></div> <p>The output being <code>0</code> tells Elon that unfortunately Jeff is still the alpha:</p> <div class=highlight><pre><span></span><code><span class=o>[</span><span class=m>0</span><span class=o>]</span>
    creation-date -&gt; <span class=m>1630661192626</span>
    gameID -&gt; 7899b23c-4509-4ff8-a9ae-d9b59fa77fea
</code></pre></div> <p>After buying a bunch of the fabulous new (and completely fictional) <em>Carbyne Stack Altcoins</em> and posting a tweet that one of his companies will accept that coin for payments in the future, Elon wants to see whether he is finally in the pole position. He deletes his old and submits his new net worth and triggers the evaluation of the Billionaires Problem logic again using:</p> <div class=highlight><pre><span></span><code>java -jar cs.jar amphora delete-secrets <span class=nv>$ELONS_NET_WORTH_ID</span>
<span class=nb>export</span> <span class=nv>ELONS_NET_WORTH_ID</span><span class=o>=</span><span class=k>$(</span>java -jar cs.jar amphora create-secret <span class=m>179</span> -t <span class=nv>billionaire</span><span class=o>=</span>Elon<span class=k>)</span>
<span class=nb>export</span> <span class=nv>RESULT_ID</span><span class=o>=</span><span class=k>$(</span>cat billionaires.mpc <span class=p>|</span> java -jar cs.jar ephemeral execute <span class=se>\</span>
  -i <span class=nv>$JEFFS_NET_WORTH_ID</span> <span class=se>\</span>
  -i <span class=nv>$ELONS_NET_WORTH_ID</span> <span class=se>\</span>
  ephemeral-generic.default <span class=se>\</span>
  <span class=p>|</span> tail -n +2 <span class=se>\</span>
  <span class=p>|</span> sed <span class=s1>&#39;s/[][]//g&#39;</span><span class=k>)</span>
java -jar cs.jar amphora get-secret <span class=nv>$RESULT_ID</span>
</code></pre></div> <p>This time the execution results in a '1', which creates a pleasantly warm feeling in Elon's chest.</p> <h2 id=next-steps>Next Steps<a class=headerlink href=#next-steps title="Permanent link">&para;</a></h2> <p>This simple tutorial showcased only a small subset of the Carbyne Stack's capabilities. Feel free to explore the possibilities yourself by playing around with the CLI.</p> </article> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> </div> <a href=# class="md-top md-top--hidden md-icon" data-md-component=top> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../deployment/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Stack Deployment" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Stack Deployment </div> </div> </a> <a href=../../community/participate/ class="md-footer__link md-footer__link--next" aria-label="Next: Participate" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Participate </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright © 2021-2022 The Carbyne Stack Authors </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class="footer-links md-footer-copyright"> <a href=../../legal/privacy-policy/ >Privacy Policy</a> | <a href=../../legal/corporate-information/ >Corporate Information</a> | <a href=../../legal/branding-guidelines/ >Branding Guidelines</a> | <a href=/legal/export-control/ >Export Control</a> </div> <div class=md-social> <a href=https://github.com/carbynestack/carbynestack target=_blank rel=noopener title="Carbyne Stack Community on Github" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.tabs.link", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.ec8bae80.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.88faac82.min.js></script> </body> </html>